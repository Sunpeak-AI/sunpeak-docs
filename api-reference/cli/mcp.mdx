---
title: "sunpeak mcp"
description: "Start the MCP server for ChatGPT testing."
---

## Overview

The `sunpeak mcp` command starts a local MCP (Model Context Protocol) server that allows you to test your MCP Resources directly in ChatGPT during development.

```bash
sunpeak mcp
```

<Info>
In a sunpeak project, run this command via your package manager: `pnpm mcp`, `npm run mcp`, or `yarn mcp`.
</Info>

## Features

### Automatic Rebuilding

The MCP server watches your `src/` directory and automatically rebuilds when you make changes:

- Detects file changes in real-time
- Rebuilds affected Resources automatically
- No manual restart required

### Simulation Discovery

Automatically discovers and serves all simulations exported from `src/simulations/index.ts`:

- MCP tools based on your simulation configuration
- MCP Resources pointing to your built widgets
- Tool metadata and descriptions

### Development-Only Server

<Warning>
The MCP server is designed for local development only. Do not use it in production.
</Warning>

For production, create a proper MCP server that references your deployed widget URLs.

## Port Configuration

Default port: `6766`

To use a different port, you can configure it in your MCP server setup or pass it as an option:

```json
{
  "scripts": {
    "mcp": "sunpeak mcp --port 8080"
  }
}
```

## Usage

<Tabs>
  <Tab title="pnpm">
    ```bash
    pnpm mcp
    ```
  </Tab>
  <Tab title="npm">
    ```bash
    npm run mcp
    ```
  </Tab>
  <Tab title="yarn">
    ```bash
    yarn mcp
    ```
  </Tab>
</Tabs>

## MCP Endpoints

The server automatically creates these endpoints:

- **GET `/mcp`** - MCP metadata and capabilities
- **POST `/mcp/messages`** - Message endpoint for client requests

## File Watching

The server watches for changes in the `src/` directory.

When changes are detected:
1. Affected Resources are rebuilt
2. The server continues running
3. Next ChatGPT request uses updated code

<Tip>
Keep the MCP server running while you develop. Changes are picked up automatically!
</Tip>

## Related Commands

<CardGroup cols={2}>
  <Card horizontal title="sunpeak dev" icon="code" href="/api-reference/cli/dev">
    Local development with simulator
  </Card>
  <Card horizontal title="sunpeak build" icon="hammer" href="/api-reference/cli/build">
    Build for production
  </Card>
</CardGroup>

## Related Documentation

<CardGroup cols={2}>
  <Card horizontal title="MCP Server" icon="flask" href="/library/mcp-server">
    Learn more about testing with ChatGPT
  </Card>
  <Card horizontal title="Deployment" icon="rocket" href="/guides/deployment">
    Deploy to production
  </Card>
</CardGroup>
