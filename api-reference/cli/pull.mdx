---
title: "sunpeak pull"
description: "Pull resources from the Sunpeak repository by tag."
---

## Overview

The `sunpeak pull` command downloads resources from the Sunpeak repository using a tag. This is useful for retrieving production builds, rolling back to previous versions, or syncing resources across environments.

```bash
sunpeak pull -r myorg/my-app -t prod
```

<Warning>
You must be logged in to use this command. Run `sunpeak login` first.
</Warning>

<Info>
The `--repository` option is required because `sunpeak pull` is typically run from your MCP server directory, not from the source repository.
</Info>

## How It Works

The pull command:

1. Looks up resources by tag and repository (optionally filtered by name)
2. Downloads the JavaScript bundle for each resource
3. Saves the resources and metadata to the output directory

```bash
$ sunpeak pull -r myorg/my-app -t prod
Pulling resources from repository "myorg/my-app" with tag "prod"...

Found 2 resource(s):

Resource: search
  Title: Search Widget
  URI: ui://search-mjdoy6rs
  Tags: prod, v1.2.0
  Created: 2024-01-15T10:30:00Z
  Downloading JS file...
  ✓ Saved search.js
  ✓ Saved search.json

Resource: dashboard
  Title: Dashboard Widget
  URI: ui://dashboard-abc123
  Tags: prod
  Created: 2024-01-15T11:00:00Z
  Downloading JS file...
  ✓ Saved dashboard.js
  ✓ Saved dashboard.json

✓ Successfully pulled 2 resource(s) to .
```

## Options

| Option | Short | Description |
|--------|-------|-------------|
| `--repository <owner/repo>` | `-r` | Repository name (required) |
| `--tag <name>` | `-t` | Tag name to pull (required) |
| `--name <name>` | `-n` | Resource name to filter by (optional) |
| `--output <path>` | `-o` | Output directory (defaults to current directory) |
| `--help` | `-h` | Show help message |

## Usage Examples

### Pull All Resources with Tag

```bash
sunpeak pull -r myorg/my-app -t prod
```

### Pull Specific Resource by Name

```bash
sunpeak pull -r myorg/my-app -t prod -n review
```

### Pull Specific Version

```bash
sunpeak pull -r myorg/my-app -t v1.0.0
```

### Custom Output Directory

```bash
sunpeak pull -r myorg/my-app -t prod -o ./builds
```

## Output Files

The pull command creates two files for each resource in the output directory:

```
./
├── search.js       # The JavaScript bundle
├── search.json     # Resource metadata
├── dashboard.js
└── dashboard.json
```

The metadata file contains:

```json
{
  "uri": "ui://search-mjdoy6rs",
  "name": "search",
  "title": "Search Widget",
  "description": "A search interface",
  "mimeType": "text/html+skybridge",
  "_meta": {
    "openai/widgetDomain": "example.com",
    "openai/widgetCSP": {
      "connect_domains": ["api.example.com"],
      "resource_domains": ["cdn.example.com"]
    }
  }
}
```

## Use Cases

### Rollback to Previous Version

```bash
# Pull a known-good version
sunpeak pull -r myorg/my-app -t v1.0.0

# Deploy it
sunpeak deploy
```

### Sync Across Environments

```bash
# Pull from staging
sunpeak pull -r myorg/my-app -t staging

# Push to production
sunpeak push --tag prod
```

### Inspect Production Build

```bash
# Download current production build
sunpeak pull -r myorg/my-app -t prod -o ./review
```

### Pull a Single Resource

```bash
# Pull only the "search" resource from production
sunpeak pull -r myorg/my-app -t prod -n search
```

## Related Commands

<CardGroup cols={2}>
  <Card horizontal title="sunpeak push" icon="arrow-up-from-bracket" href="/api-reference/cli/push">
    Push resources to Sunpeak
  </Card>
  <Card horizontal title="sunpeak deploy" icon="rocket" href="/api-reference/cli/deploy">
    Deploy to production
  </Card>
  <Card horizontal title="sunpeak build" icon="hammer" href="/api-reference/cli/build">
    Build resources locally
  </Card>
  <Card horizontal title="sunpeak login" icon="right-to-bracket" href="/api-reference/cli/login">
    Authenticate with Sunpeak
  </Card>
</CardGroup>
