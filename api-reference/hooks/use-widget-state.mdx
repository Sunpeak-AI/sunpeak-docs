---
title: "useWidgetState"
description: "Hook for managing persistent UI state."
---

## Overview

The `useWidgetState` hook provides persistent UI state management across ChatGPT sessions.

## Import

```tsx
import { useWidgetState } from 'sunpeak';
```

## Signature

```tsx
function useWidgetState<T>(
  defaultState: T | (() => T)
): [T, (state: T | ((prevState: T) => T)) => void]
```

## Parameters

<ResponseField name="defaultState" type="T | (() => T)" required>
  Default value or function that returns default value. Used if no persisted state exists.
</ResponseField>

## Returns

<ResponseField name="[0]" type="T">
  Current state value.
</ResponseField>

<ResponseField name="[1]" type="(state: T | ((prevState: T) => T)) => void">
  Function to update the state. Can accept a new state value or a function that receives the previous state and returns the new state.
</ResponseField>

## Usage

```tsx
import { useWidgetState } from 'sunpeak';

function Counter() {
  const [count, setCount] = useWidgetState('count', 0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```
