---
title: "useWidgetState"
description: "Hook for managing persistent widget state"
---

## Overview

The `useWidgetState` hook provides persistent state management across ChatGPT sessions.

## Import

```tsx
import { useWidgetState } from 'sunpeak';
```

## Signature

```tsx
function useWidgetState<T>(
  key: string,
  initialValue: T
): [T, (value: T) => void]
```

## Parameters

<ResponseField name="key" type="string" required>
  Unique identifier for the state value.
</ResponseField>

<ResponseField name="initialValue" type="T" required>
  Default value if no persisted state exists.
</ResponseField>

## Returns

<ResponseField name="[0]" type="T">
  Current state value.
</ResponseField>

<ResponseField name="[1]" type="(value: T) => void">
  Function to update the state.
</ResponseField>

## Usage

```tsx
import { useWidgetState } from 'sunpeak';

function Counter() {
  const [count, setCount] = useWidgetState('count', 0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```
