---
title: "Add to Existing Project"
description: "Integrate sunpeak into your existing React application."
---

import CreateSimulation from '/snippets/create-simulation.mdx';

## Overview

If you already have a React project and want to use sunpeak for runtime APIs or testing,
you can integrate the sunpeak library directly without using the starter kit.

<Info>
**Starting from scratch?** Use [Quickstart](/quickstart) for the recommended MCP App creation experience.
</Info>

## Prerequisites

Your existing project needs:

<CardGroup cols={3}>
  <Card horizontal title="React" icon="react">
    Version 18 or 19
  </Card>
  <Card horizontal title="Node.js" icon="node-js">
    Version 20 or higher
  </Card>
  <Card horizontal title="Build Tool" icon="wrench">
    Vite recommended
  </Card>
</CardGroup>

## Installation Steps

<Steps>
  <Step title="Install sunpeak">
    Add sunpeak to your project dependencies:

    <Tabs>
      <Tab title="pnpm">
        ```bash
        pnpm add sunpeak
        ```
      </Tab>
      <Tab title="npm">
        ```bash
        npm install sunpeak
        ```
      </Tab>
      <Tab title="yarn">
        ```bash
        yarn add sunpeak
        ```
      </Tab>
    </Tabs>

    If you only want to use sunpeak simulation and testing functionality (without the runtime APIs),
    you can add sunpeak to `devDependencies` instead.
  </Step>

  <Step title="Install styles (Tailwind)">
    sunpeak requires Tailwind CSS 4. If you don't have it installed:

    <Tabs>
      <Tab title="pnpm">
        ```bash
        pnpm add -D tailwindcss@next @tailwindcss/vite@next
        ```
      </Tab>
      <Tab title="npm">
        ```bash
        npm install --save-dev tailwindcss@next @tailwindcss/vite@next
        ```
      </Tab>
      <Tab title="yarn">
        ```bash
        yarn add -D tailwindcss@next @tailwindcss/vite@next
        ```
      </Tab>
    </Tabs>

    Configure Tailwind in your build config, if it isn't set up already:

    <Tabs>
      <Tab title="Vite">
        ```ts
        // vite.config.ts
        import { defineConfig } from 'vite';
        import react from '@vitejs/plugin-react';
        import tailwindcss from '@tailwindcss/vite';

        export default defineConfig({
          plugins: [react(), tailwindcss()],
        });
        ```
      </Tab>
      <Tab title="Webpack">
        ```js
        // webpack.config.js
        module.exports = {
          module: {
            rules: [
              {
                test: /\.css$/,
                use: ['style-loader', 'css-loader', 'postcss-loader'],
              },
            ],
          },
        };
        ```

        ```js
        // postcss.config.js
        module.exports = {
          plugins: {
            tailwindcss: {},
            autoprefixer: {},
          },
        };
        ```
      </Tab>
    </Tabs>

    Import Tailwind and ChatGPT styles to your CSS entrypoint:

    ```css
    @import "tailwindcss";
    @import "@openai/apps-sdk-ui/css";

    /* Scan simulator source files for Tailwind classes */
    @source "./**/*.{ts,tsx}";

    /* Required for Tailwind to find class references in Apps SDK UI components. */
    @source "../node_modules/@openai/apps-sdk-ui";

    /* Configure dark mode to use data-theme attribute (OpenAI SDK standard) */
    @custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));
```
  </Step>

  <Step title="Create a simulation">
    Create a simulation configuration file (e.g., `src/simulations/example-simulation.ts`):

    <CreateSimulation />
  </Step>

  <Step title="Wire up the simulator">
    Create an entrypoint file (like `dev/main.tsx`) where you want to run your simulator:

    ```tsx
    import { ChatGPTSimulator } from 'sunpeak';
    import { exampleSimulation } from '../src/simulations/example-simulation';
    import { MyComponent } from '../src/components/MyComponent';

    createRoot(document.getElementById('root')!).render(
      <StrictMode>
        <ChatGPTSimulator
          simulations={[{
            ...exampleSimulation,
            resourceComponent: MyComponent
          }]}
          appName="Sunpeak App"
          appIcon="ðŸŒ„"
        />
      </StrictMode>
    );
    ```

    Add a script to run your simulation dev server (`package.json`):
    ```json
    "scripts": {
      // ...
      "dev": "vite --port ${PORT:-6767}"
    },
    ```

    Run your local development server with your new simulation entrypoint:

    <Tabs>
      <Tab title="pnpm">
        ```bash
        pnpm dev
        ```
      </Tab>
      <Tab title="npm">
        ```bash
        npm run dev
        ```
      </Tab>
      <Tab title="yarn">
        ```bash
        yarn dev
        ```
      </Tab>
    </Tabs>

    <Warning>
    Only use the simulator in development. For production, export your component directly.
    </Warning>
  </Step>

  <Step title="Wire up the MCP server">
    Create an MCP server file (like `mcp/server.ts`) to serve your built widgets to ChatGPT:

    ```typescript
    import { runMCPServer } from 'sunpeak/mcp';
    import path from 'path';
    import { fileURLToPath } from 'url';
    import { exampleSimulation } from '../src/simulations/example-simulation';

    const __dirname = path.dirname(fileURLToPath(import.meta.url));

    // Add distPath to your simulation for the MCP server
    const simulations = [{
      ...exampleSimulation,
      distPath: path.resolve(__dirname, '../dist/chatgpt/example.js'),
    }];

    runMCPServer({
      name: 'My App',
      version: '0.1.0',
      simulations,
      port: 6766,
    });
    ```

    Add scripts to build and run your MCP server (`package.json`):
    ```json
    "scripts": {
      // ...
      "build": "vite build",
      "mcp": "node mcp/server.ts"
    },
    ```

    Build your app and start the MCP server:

    <Tabs>
      <Tab title="pnpm">
        ```bash
        pnpm build
        pnpm mcp
        ```
      </Tab>
      <Tab title="npm">
        ```bash
        npm run build
        npm run mcp
        ```
      </Tab>
      <Tab title="yarn">
        ```bash
        yarn build
        yarn mcp
        ```
      </Tab>
    </Tabs>

    Then use a tunnel (like ngrok) to expose your server to ChatGPT. See [Platform Testing](/library/platform-testing) for details.
  </Step>
</Steps>

## Need the Full Starter Kit?

Often, it's easier to just copy your existing components into a new project initiated with the sunpeak starter kit.

The kit comes with pre-built components, build tools, and testing framework.

See [Quickstart](/quickstart) to get started.
