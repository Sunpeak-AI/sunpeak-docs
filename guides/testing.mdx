---
title: "Testing"
description: "Testing and validation in sunpeak projects."
---

## Overview

sunpeak projects include Vitest for unit testing out of the box. The template is intentionally minimal - you can add additional tooling (linting, type-checking, formatting) as your project needs evolve.

**TL;DR**: Run `pnpm test` to verify your components before shipping.

## Testing Command

<ResponseField name="pnpm test" type="command">
  Run unit tests with Vitest.
</ResponseField>

## Additional Quality Tools (Optional)

The template doesn't prescribe tooling beyond testing. Add what you need:

<AccordionGroup>
  <Accordion title="Linting (ESLint)">
    ```bash
    pnpm add -D eslint @typescript-eslint/eslint-plugin
    ```
    Add `"lint": "eslint . --ext .ts,.tsx"` to package.json scripts.
  </Accordion>

  <Accordion title="Type Checking">
    TypeScript is already installed. Add to package.json scripts:
    ```json
    "typecheck": "tsc --noEmit"
    ```
  </Accordion>

  <Accordion title="Formatting (Prettier)">
    ```bash
    pnpm add -D prettier
    ```
    Add `"format": "prettier --write ."` to package.json scripts.
  </Accordion>
</AccordionGroup>

## Testing Setup

sunpeak uses [Vitest](https://vitest.dev/), a fast unit testing framework built on Vite. The test configuration is in `vitest.config.ts`.

### What's Configured

The test environment includes:

- **jsdom**: Browser-like environment for React component testing.
- **@testing-library/react**: For rendering and testing components.
- **@testing-library/jest-dom**: Additional matchers for assertions.
- **Global test utilities**: `describe`, `it`, `expect`, `beforeEach`, `afterEach`.
- **Browser API mocks**: `matchMedia`, `IntersectionObserver`, `ResizeObserver`.

All configuration is in `src/test/setup.ts`.

## Testing Best Practices

<AccordionGroup>
  <Accordion title="Keep tests simple">
    Test one thing per test case. Clear tests are maintainable tests.
  </Accordion>

  <Accordion title="Use meaningful test descriptions">
    ```tsx
    // ✅ Good
    it('displays error message when API fails', () => {})

    // ❌ Bad
    it('test 1', () => {})
    ```
  </Accordion>

  <Accordion title="Test user-facing behavior">
    Test what users see and interact with, not implementation details:
    ```tsx
    // ✅ Good
    expect(screen.getByText('Submit')).toBeInTheDocument();

    // ❌ Bad
    expect(component.props.buttonLabel).toBe('Submit');
    ```
  </Accordion>

  <Accordion title="Clean up after tests">
    Use `afterEach` to reset state between tests:
    ```tsx
    afterEach(() => {
      // Clean up mocks, reset state, etc.
    });
    ```
  </Accordion>
</AccordionGroup>

## Dive Deeper

<Card horizontal title="Vitest Docs" icon="link" href="https://vitest.dev/">
  Learn more about Vitest.
</Card>
